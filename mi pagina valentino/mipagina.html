
canvas.addEventListener("mousedown", manejarToque);
canvas.addEventListener("touchstart", manejarToque);

function manejarToque(e) {
  e.preventDefault(); // evitar scroll
  let clientX, clientY;

  if (e.touches) {
    clientX = e.touches[0].clientX;
    clientY = e.touches[0].clientY;
  } else {
    clientX = e.clientX;
    clientY = e.clientY;
  }

  const rect = canvas.getBoundingClientRect();
  const clickX = clientX - rect.left;
  const clickY = clientY - rect.top;

  if (!gameOver) {
    if (
      clickX >= 80 && clickX <= 120 &&
      clickY >= birdY && clickY <= birdY + 40
    ) {
      if (!juegoIniciado) {
        juegoIniciado = true;
        birdSpeed = -8;
        draw();
      } else {
        birdSpeed = -8;
      }

      skinActualIndex++;
      if (skinActualIndex >= skins.length) skinActualIndex = 0;
      actualizarSeleccionTienda();
    }
  }
}
