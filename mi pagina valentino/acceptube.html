<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>acceptube</title>

<style>
body {
    background: #111;
    color: white;
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 20px;
}

h1 {
    color: #00ffcc;
}

input, button {
    padding: 10px;
    margin: 5px;
    border-radius: 8px;
    border: none;
    font-size: 16px;
}

button {
    background: orange;
    cursor: pointer;
}

button:hover {
    background: red;
    color: white;
}

#videos {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
}

.video-card {
    background: #222;
    border-radius: 10px;
    padding: 10px;
    width: 300px;
}

video {
    width: 100%;
    border-radius: 10px;
}

.nombre {
    color: gold;
    font-weight: bold;
}
body {
    margin: 0;
    background: #0f0f0f;
    color: white;
    font-family: Arial;
}

header {
    background: #202020;
    padding: 10px;
    font-size: 22px;
    color: red;
    font-weight: bold;
}

#perfil {
    background: #181818;
    padding: 10px;
}

#perfil img {
    width: 60px;
    height: 60px;
    border-radius: 50%;
}

#subir {
    padding: 10px;
}

#videos {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    padding: 10px;
}

.card {
    background: #202020;
    width: 300px;
    border-radius: 10px;
    padding: 10px;
}

video {
    width: 100%;
    border-radius: 10px;
}

button {
    margin: 5px;
    padding: 6px;
    border-radius: 6px;
    border: none;
    cursor: pointer;
}

</style>
</head>

<body>

<h1>üé¨ Mini P√°gina de Videos</h1>
<p>Sub√≠ tu video y miralo ac√°</p>

<input id="nombre" placeholder="Tu nombre">
<br>
<input id="videoInput" placeholder="Link del video (mp4 o YouTube)">
<br>
<button onclick="subirVideo()">Subir video</button>

<hr>

<div id="videos"></div>

<script>
function subirVideo() {
    let link = document.getElementById("videoInput").value;

    if (!link || !perfil.nombre) {
        alert("Pon√© tu perfil y un link de video");
        return;
    }

    videos.unshift({
        nombre: perfil.nombre,
        video: link,
        likes: 0,
        comentarios: []
    });

    guardar();
    mostrarVideos();
}

    }

    let reader = new FileReader();
    reader.onload = () => {
        perfil = { nombre, foto: reader.result };
        localStorage.setItem("perfil", JSON.stringify(perfil));
        mostrarPerfil();
    };
    reader.readAsDataURL(foto);
}

function mostrarPerfil() {
    if (!perfil.nombre) return;
    document.getElementById("nombrePerfil").innerText = perfil.nombre;
    document.getElementById("fotoPerfil").src = perfil.foto;
}

// SUBIR VIDEO
function subirVideo() {
    let file = document.getElementById("videoInput").files[0];
    if (!file || !perfil.nombre) {
        alert("Cre√° tu perfil y eleg√≠ un video");
        return;
    }

    let url = URL.createObjectURL(file);

    videos.unshift({
        nombre: perfil.nombre,
        video: url,
        likes: 0,
        comentarios: []
    });

    guardar();
    mostrarVideos();
}

// LIKE
function like(i) {
    videos[i].likes++;
    guardar();
    mostrarVideos();
}

// COMENTAR
function comentar(i) {
    let texto = prompt("Comentario:");
    if (!texto) return;
    videos[i].comentarios.push(texto);
    guardar();
    mostrarVideos();
}

// REPORTAR
function reportar() {
    alert("üö® Video reportado (solo ejemplo)");
}

// GUARDAR
function guardar() {
    localStorage.setItem("videos", JSON.stringify(videos));
}

// MOSTRAR
function mostrarVideos() {
    let cont = document.getElementById("videos");
    cont.innerHTML = "";

    videos.forEach((v, i) => {
        cont.innerHTML += `
        <div class="card">
            <b>${v.nombre}</b>
            <video controls src="${v.video}"></video>
            <p>üëç ${v.likes}</p>
            <button onclick="like(${i})">Like</button>
            <button onclick="comentar(${i})">Comentar</button>
            <button onclick="reportar()">üö®</button>
            ${v.comentarios.map(c => `<p>üí¨ ${c}</p>`).join("")}
			<iframe width="100%" height="200"
src="${v.video}"
allowfullscreen></iframe>

        </div>
        `;
    });
}

mostrarPerfil();
mostrarVideos();
let url = URL.createObjectURL(file);


</script>