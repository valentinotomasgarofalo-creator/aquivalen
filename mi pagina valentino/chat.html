<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>MindChat</title>
<style>
* {
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}

body {
  margin: 0;
  background: #0f0f0f;
  color: white;
  display: flex;
  height: 100vh;
}

/* SIDEBAR */
.sidebar {
  width: 260px;
  background: #111;
  padding: 10px;
  display: flex;
  flex-direction: column;
}

.logo {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 15px;
  font-weight: bold;
  font-size: 16px;
}

.logo img {
  width: 22px;
  height: 22px;
  border-radius: 6px;
}

button {
  background: #1e1e1e;
  border: none;
  color: white;
  padding: 10px;
  border-radius: 8px;
  cursor: pointer;
  margin-bottom: 10px;
}

button:hover {
  background: #2a2a2a;
}

.chat-list {
  flex: 1;
  overflow-y: auto;
}

.chat-item {
  padding: 8px;
  border-radius: 6px;
  cursor: pointer;
}

.chat-item:hover {
  background: #1e1e1e;
}

/* CHAT */
.chat {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.messages {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}

.msg {
  max-width: 70%;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: 10px;
  line-height: 1.4;
}

.user {
  background: #2a2a2a;
  margin-left: auto;
}

.bot {
  background: #1a1a1a;
}

.input-area {
  display: flex;
  padding: 15px;
  border-top: 1px solid #222;
}

textarea {
  flex: 1;
  resize: none;
  background: #1e1e1e;
  border: none;
  border-radius: 8px;
  padding: 10px;
  color: white;
  height: 40px;
}

.send {
  margin-left: 10px;
  background: #10a37f;
}
</style>
</head>
<body>

<div class="sidebar">
  <div class="logo">
    <img src="mindchat.png">
    MindChat
  </div>
  <button onclick="nuevoChat()">Ôºã Nuevo chat</button>
  <div class="chat-list" id="chatList"></div>
</div>

<div class="chat">
  <div class="messages" id="messages"></div>
  <div class="input-area">
    <textarea id="input" placeholder="Escrib√≠ un mensaje..."></textarea>
    <button class="send" onclick="enviar()">Enviar</button>
  </div>
</div>

<script>
let chats = JSON.parse(localStorage.getItem("chats")) || [];
let chatActual = null;
let ultimaPregunta = "";

function guardar() {
  localStorage.setItem("chats", JSON.stringify(chats));
}

function nuevoChat() {
  chatActual = {
    id: Date.now(),
    titulo: "Nuevo chat",
    mensajes: []
  };
  chats.unshift(chatActual);
  guardar();
  renderChats();
  renderMensajes();
  responder("Hola üëã Soy MindChat. ¬øEn qu√© puedo ayudarte?");
}

function renderChats() {
  const list = document.getElementById("chatList");
  list.innerHTML = "";
  chats.forEach(chat => {
    const div = document.createElement("div");
    div.className = "chat-item";
    div.textContent = chat.titulo;
    div.onclick = () => {
      chatActual = chat;
      renderMensajes();
    };
    list.appendChild(div);
  });
}

function renderMensajes() {
  const cont = document.getElementById("messages");
  cont.innerHTML = "";
  if (!chatActual) return;
  chatActual.mensajes.forEach(m => {
    const div = document.createElement("div");
    div.className = "msg " + m.tipo;
    div.textContent = m.texto;
    cont.appendChild(div);
  });
  cont.scrollTop = cont.scrollHeight;
}

function enviar() {
  const input = document.getElementById("input");
  const texto = input.value.trim();
  if (!texto || !chatActual) return;

  chatActual.mensajes.push({ tipo: "user", texto });
  if (chatActual.titulo === "Nuevo chat")
    chatActual.titulo = texto.slice(0, 20);

  input.value = "";
  guardar();
  renderChats();
  renderMensajes();

  if (texto === ultimaPregunta) return;
  ultimaPregunta = texto;

  escribir();
  setTimeout(() => responder(respuestaIA(texto)), 1000);
}

function escribir() {
  chatActual.mensajes.push({ tipo: "bot", texto: "MindChat est√° escribiendo..." });
  renderMensajes();
}

function responder(texto) {
  const cont = document.getElementById("messages");

  const div = document.createElement("div");
  div.className = "msg bot";
  cont.appendChild(div);

  escribirComoChatGPT(texto, div);

  cont.scrollTop = cont.scrollHeight;
}

 function escribirComoChatGPT(texto, elemento) {
  if (!texto) return;

  let i = 0;
  elemento.textContent = "";

  let velocidad = texto.length < 60 ? 5 : 25;

  const intervalo = setInterval(() => {
    elemento.textContent += texto.charAt(i);
    i++;

    if (i >= texto.length) {
      clearInterval(intervalo);
    }
  }, velocidad);
}




function respuestaIA(texto) {
  texto = texto.toLowerCase();

  if (texto.includes("hola")) {
    return "¬°Hola! üëã Me alegra verte por ac√°.\n\nPodemos hablar de p√°ginas web, dise√±o, ideas creativas o lo que tengas en mente. ¬øPor d√≥nde empezamos?";
  }

  if (texto.includes("pagina") || texto.includes("web")) {
    return "Crear una p√°gina web es una gran idea üíª\n\nPrimero hay que definir qu√© tipo de p√°gina quer√©s (por ejemplo: personal, banda, proyecto, chat). Despu√©s se piensa el dise√±o, los colores y las secciones.\n\nSi quer√©s, podemos armarla paso a paso como hicimos con este chat.";
  }

  if (texto.includes("logo")) {
    return "Un buen logo tiene que ser simple, reconocible y verse bien en tama√±o chico.\n\nLo ideal es usar pocos colores, una forma clara y que represente la idea del proyecto. En tu caso, un estilo minimalista como ChatGPT queda perfecto.";
  }

  if (texto.includes("banda")) {
    return "Una p√°gina para una banda de rock deber√≠a transmitir identidad üî•\n\nSecciones clave:\n‚Ä¢ Inicio con imagen fuerte\n‚Ä¢ M√∫sica o videos\n‚Ä¢ Fechas de shows\n‚Ä¢ Historia de la banda\n‚Ä¢ Contacto\n\nSi quer√©s, podemos dise√±arla juntos.";
  }

  if (texto.length < 4) {
    return "¬øPodr√≠as contarme un poco m√°s? As√≠ te puedo ayudar mejor üôÇ";
  }

  return "Interesante lo que dec√≠s ü§î\n\nSi quer√©s, explicame un poco m√°s o decime qu√© te gustar√≠a hacer exactamente, y lo vemos juntos.";
}
function responder(texto) {
  texto = texto.toLowerCase();

  if (texto.includes("pagina")) {
    return `
¬°Claro! Ac√° ten√©s un ejemplo de p√°gina web simple üëá

\`\`\`html
<!DOCTYPE html>
<html>
<head>
  <title>Mi primera web</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: Arial;
      text-align: center;
    }
  </style>
</head>
<body>

<h1>Hola mundo üåé</h1>
<p>Esta es mi primera p√°gina web</p>

</body>
</html>
\`\`\`
`;
  }

  return "Contame qu√© tipo de p√°gina quer√©s üòä";
}



/* Enter / Shift+Enter */
document.getElementById("input").addEventListener("keydown", e => {
  if (e.key === "Enter" && !e.shiftKey) {
    e.preventDefault();
    enviar();
  }
});

/* iniciar */
nuevoChat();
function escribirComoChatGPT(texto, elemento) {
  let i = 0;
  elemento.textContent = "";

  const intervalo = setInterval(() => {
    elemento.textContent += texto[i];
    i++;

    if (i >= texto.length) {
      clearInterval(intervalo);
    }
  }, 25); // velocidad (m√°s chico = m√°s r√°pido)
}

</script>

</body>
</html>



